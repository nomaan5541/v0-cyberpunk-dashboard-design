{% extends "base.html" %}

{% block title %}School Admin Dashboard - NEXUS{% endblock %}
{% block page_title %}SCHOOL OPERATIONS / OVERVIEW{% endblock %}

{% block content %}
<!-- Enhanced KPI cards with tactical styling -->
<div class="kpi-cards">
    <div class="kpi-card">
        <div class="kpi-icon" style="color: var(--primary-color);">
            <i class="fas fa-user-graduate"></i>
        </div>
        <div class="kpi-content">
            <h3>STUDENT ROSTER</h3>
            <div class="kpi-value">{{ stats.total_students }}</div>
            <div class="kpi-status">Enrollment: ACTIVE</div>
        </div>
    </div>
    
    <div class="kpi-card">
        <div class="kpi-icon" style="color: var(--accent-color);">
            <i class="fas fa-chalkboard-user"></i>
        </div>
        <div class="kpi-content">
            <h3>FACULTY UNIT</h3>
            <div class="kpi-value">{{ stats.total_teachers }}</div>
            <div class="kpi-status">Deployment: READY</div>
        </div>
    </div>
    
    <div class="kpi-card">
        <div class="kpi-icon" style="color: var(--secondary-color);">
            <i class="fas fa-layer-group"></i>
        </div>
        <div class="kpi-content">
            <h3>CLASS DIVISIONS</h3>
            <div class="kpi-value">{{ stats.total_classes }}</div>
            <div class="kpi-status">Organization: OPTIMAL</div>
        </div>
    </div>
</div>

<!-- Enhanced activity tables with tactical styling -->
<div class="recent-activities">
    <h2 style="color: var(--primary-color); margin-bottom: 20px;">RECENT STUDENT ENROLLMENT</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>STUDENT ID</th>
                <th>ROLL NUMBER</th>
                <th>CLASS ASSIGNMENT</th>
                <th>CONTACT</th>
                <th>ENROLLMENT DATE</th>
            </tr>
        </thead>
        <tbody>
            {% for student in recent_students %}
            <tr>
                <td><strong>STU-{{ student.user_id }}</strong></td>
                <td>{{ student.roll_number }}</td>
                <td>{{ student.class_name }}</td>
                <td>{{ student.date_of_birth }}</td>
                <td><span style="color: var(--primary-color);">{{ student.created_at.strftime('%Y-%m-%d') }}</span></td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" style="text-align: center; color: var(--text-secondary);">NO STUDENT RECORDS</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="recent-activities" style="margin-top: 30px;">
    <h2 style="color: var(--primary-color); margin-bottom: 20px;">FACULTY DEPLOYMENT LOG</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>TEACHER ID</th>
                <th>SUBJECT SPECIALIZATION</th>
                <th>QUALIFICATION LEVEL</th>
                <th>DEPLOYMENT DATE</th>
            </tr>
        </thead>
        <tbody>
            {% for teacher in recent_teachers %}
            <tr>
                <td><strong>TCH-{{ teacher.user_id }}</strong></td>
                <td>{{ teacher.subject }}</td>
                <td>{{ teacher.qualification }}</td>
                <td><span style="color: var(--primary-color);">{{ teacher.created_at.strftime('%Y-%m-%d') }}</span></td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" style="text-align: center; color: var(--text-secondary);">NO FACULTY RECORDS</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
